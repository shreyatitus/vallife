<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<div class="navbar">Login</div>

<div class="container">
    <h2>Login</h2>

    <input type="email" id="loginEmail" placeholder="Email">
    <input type="password" id="loginPassword" placeholder="Password">

    <button onclick="login()">Login</button>

    <p id="message"></p>
</div>

<script src="js/config.js"></script>
<script src="js/api.js"></script>
<script>
async function login() {
    const loginData = {
        email: document.getElementById("loginEmail").value,
        password: document.getElementById("loginPassword").value
    };

    const result = await apiRequest("/login", "POST", loginData);

    if (result.status === "success") {
        localStorage.setItem("user", JSON.stringify(result.user));
        window.location.href = "dashboard.html";
    } else {
        document.getElementById("message").innerText = result.message || "Login failed";
    }
}
</script>

</body>
</html>